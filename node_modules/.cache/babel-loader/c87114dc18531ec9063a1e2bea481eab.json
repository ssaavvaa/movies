{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\ssaavvaa\\\\Desktop\\\\apps for portfolio\\\\Movie-search\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\ssaavvaa\\\\Desktop\\\\apps for portfolio\\\\Movie-search\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\ssaavvaa\\\\Desktop\\\\apps for portfolio\\\\Movie-search\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ssaavvaa\\\\Desktop\\\\apps for portfolio\\\\Movie-search\\\\src\\\\pages\\\\MoviesPage.js\";\nimport React, { useState } from \"react\";\nimport stl from '../styles/movie-search.module.css';\nimport axios from 'axios';\nimport { Link } from \"react-router-dom\";\nimport { APIkey } from '../helpers';\nexport default (function () {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      movies = _useState2[0],\n      setMovies = _useState2[1];\n\n  var handleSearch =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(e) {\n      var query, _ref2, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(e.target.value !== null && e.target.value.trim() !== '')) {\n                _context.next = 9;\n                break;\n              }\n\n              query = e.target.value;\n              _context.next = 4;\n              return axios.get(\"https://api.themoviedb.org/3/search/movie?api_key=\".concat(APIkey, \"&query=\").concat(query));\n\n            case 4:\n              _ref2 = _context.sent;\n              data = _ref2.data;\n              data.results.length ? setMovies(data.results) : setMovies(null);\n              _context.next = 10;\n              break;\n\n            case 9:\n              setMovies(null);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSearch(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return React.createElement(\"div\", {\n    className: stl.wrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    placeholder: \"search keyword\",\n    onChange: function onChange(e) {\n      return handleSearch(e);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }), movies && React.createElement(\"ul\", {\n    className: stl.wrapperUl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, movies.map(function (_ref3) {\n    var id = _ref3.id,\n        title = _ref3.title,\n        backdrop_path = _ref3.backdrop_path;\n    return React.createElement(\"li\", {\n      key: id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"movies/\".concat(id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"movie-mo\",\n      src: \"https://image.tmdb.org/t/p/original\".concat(backdrop_path),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }), title));\n  })));\n});","map":{"version":3,"sources":["C:/Users/ssaavvaa/Desktop/apps for portfolio/Movie-search/src/pages/MoviesPage.js"],"names":["React","useState","stl","axios","Link","APIkey","movies","setMovies","handleSearch","e","target","value","trim","query","get","data","results","length","wrapper","wrapperUl","map","id","title","backdrop_path"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAiBC,QAAjB,QAAiC,OAAjC;AACA,OAAOC,GAAP,MAAgB,mCAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,MAAT,QAAuB,YAAvB;AAGA,gBAAe,YAAM;AAAA,kBAEcJ,QAAQ,CAAC,IAAD,CAFtB;AAAA;AAAA,MAETK,MAFS;AAAA,MAEAC,SAFA;;AAIjB,MAAMC,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,iBAAMC,CAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,oBACdA,CAAC,CAACC,MAAF,CAASC,KAAT,KAAmB,IAAnB,IAA2BF,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,IAAf,OAA0B,EADvC;AAAA;AAAA;AAAA;;AAEPC,cAAAA,KAFO,GAECJ,CAAC,CAACC,MAAF,CAASC,KAFV;AAAA;AAAA,qBAGUR,KAAK,CAACW,GAAN,6DAA+DT,MAA/D,oBAA+EQ,KAA/E,EAHV;;AAAA;AAAA;AAGLE,cAAAA,IAHK,SAGLA,IAHK;AAIbA,cAAAA,IAAI,CAACC,OAAL,CAAaC,MAAb,GAAsBV,SAAS,CAACQ,IAAI,CAACC,OAAN,CAA/B,GAAgDT,SAAS,CAAC,IAAD,CAAzD;AAJa;AAAA;;AAAA;AAKXA,cAAAA,SAAS,CAAC,IAAD,CAAT;;AALW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZC,YAAY;AAAA;AAAA;AAAA,KAAlB;;AASA,SACI;AAAK,IAAA,SAAS,EAAIN,GAAG,CAACgB,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,WAAW,EAAG,gBAArB;AAAsC,IAAA,QAAQ,EAAI,kBAACT,CAAD;AAAA,aAAOD,YAAY,CAACC,CAAD,CAAnB;AAAA,KAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGH,MAAM,IACN;AAAI,IAAA,SAAS,EAAIJ,GAAG,CAACiB,SAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEb,MAAM,CAACc,GAAP,CAAW;AAAA,QAAGC,EAAH,SAAGA,EAAH;AAAA,QAAQC,KAAR,SAAQA,KAAR;AAAA,QAAgBC,aAAhB,SAAgBA,aAAhB;AAAA,WACV;AAAI,MAAA,GAAG,EAAIF,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAe,oBAAC,IAAD;AAAM,MAAA,EAAE,mBAAcA,EAAd,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACb;AAAK,MAAA,GAAG,EAAG,UAAX;AAAsB,MAAA,GAAG,+CAAwCE,aAAxC,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADa,EAEZD,KAFY,CAAf,CADU;AAAA,GAAX,CADF,CAHH,CADJ;AAcH,CA3BD","sourcesContent":["import React , { useState } from \"react\";\r\nimport stl from '../styles/movie-search.module.css'\r\nimport axios from 'axios'\r\nimport { Link } from \"react-router-dom\";\r\nimport { APIkey } from '../helpers'\r\n\r\n\r\nexport default () => {\r\n\r\n    const [ movies , setMovies ] = useState(null)\r\n\r\n    const handleSearch = async e => {\r\n        if(e.target.value !== null && e.target.value.trim() !== ''){\r\n            const query = e.target.value\r\n            const { data } = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${APIkey}&query=${query}`)\r\n            data.results.length ? setMovies(data.results) : setMovies(null)\r\n        }else setMovies(null)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className = {stl.wrapper}>\r\n          <input placeholder = 'search keyword' onChange = {(e) => handleSearch(e)} />\r\n          {movies  && \r\n           <ul className = {stl.wrapperUl}>\r\n            {movies.map(({ id , title , backdrop_path }) => (\r\n              <li key = {id}><Link to = {`movies/${id}`}>\r\n                <img alt = 'movie-mo' src={`https://image.tmdb.org/t/p/original${backdrop_path}`} />\r\n                {title}</Link></li>\r\n            ))}\r\n          </ul>}\r\n        </div>\r\n\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}